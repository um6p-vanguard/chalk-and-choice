{% extends "base.html" %}
{% block content %}
<div class="card">
  <h3>Form Results</h3>
  <p class="q">{{ form.title }}</p>
  <p class="muted">Code: <strong>{{ form.code }}</strong> Â· Responses: <strong>{{ rows|length }}</strong></p>

  {% if rows %}
    <div style="overflow:auto;">
      <table>
        <thead>
          <tr><th>Student</th><th>Time</th><th>Answers (JSON)</th></tr>
        </thead>
        <tbody>
          {% for r in rows %}
            <tr>
              <td>{{ r.name }}</td>
              <td class="muted">{{ r.when }}</td>
              <td><pre style="white-space:pre-wrap;margin:0;">{{ r.payload|tojson(indent=2) }}</pre></td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  {% else %}
    <p class="muted">No responses yet.</p>
  {% endif %}
</div>
{% endblock %}
