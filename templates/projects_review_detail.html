{% extends "base.html" %}
{% block content %}
<div class="card">
  <h3 style="margin:0;">{{ project.title if project else "Project" }} — {{ task.title if task else "Task" }}</h3>
  <p class="muted" style="margin-top:4px;">Student: {{ submission.student_name or "Unknown" }}</p>
  <p class="muted" style="margin-top:4px;">Submitted: {{ submission.submitted_at.strftime("%b %d %H:%M") if submission.submitted_at else "—" }}</p>
</div>
<div class="sp"></div>
<div class="card">
  {% if questions %}
    <ol style="padding-left:18px; margin:0;">
      {% for q in questions %}
        <li style="margin-bottom:16px;">
          <strong>{{ q.title or ("Question " ~ loop.index) }}</strong>
          <div style="margin-top:6px;">{{ q.prompt }}</div>
          <div style="margin-top:6px; padding:8px; border:1px solid #334155; border-radius:8px;">
            <div class="muted">Student answer</div>
            {% set ans = answers.get(q.id) if answers else "" %}
            {% if q.type in ("mcq","multi") %}
              <div>{{ ans or "—" }}</div>
            {% else %}
              <pre style="white-space:pre-wrap; background:#0b1220; padding:6px; border-radius:6px;">{{ ans }}</pre>
            {% endif %}
          </div>
        </li>
      {% endfor %}
    </ol>
  {% else %}
    <p class="muted">No questions found for this task.</p>
  {% endif %}
</div>
{% endblock %}
