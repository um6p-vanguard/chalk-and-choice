{% extends "base.html" %}
{% import "_task_answers.html" as task_answers %}
{% block content %}
<div class="card">
  <div class="row" style="justify-content:space-between; align-items:flex-start;">
    <div>
      <h3 style="margin:0;">{{ project.title if project else "Project" }} — {{ task.title if task else "Task" }}</h3>
      <p class="muted" style="margin-top:4px;">Student: {{ submission.student_name or "Unknown" }}</p>
      <p class="muted" style="margin-top:4px;">Submitted: {{ submission.submitted_at.strftime("%b %d %H:%M") if submission.submitted_at else "—" }}</p>
    </div>
    <div class="row" style="gap:8px;">
      <a class="btn" href="{{ url_for('projects_reviews') }}">Back to review list</a>
      {% if submission.student_id %}
        <a class="btn" href="{{ url_for('projects_submission_task_detail', code=project.code, student_id=submission.student_id, task_id=task.id) }}">Open task view</a>
      {% endif %}
    </div>
  </div>
</div>
<div class="sp"></div>
<div class="card">
  {{ task_answers.render(questions, answers, logs_by_question) }}
</div>
{% endblock %}
