{% extends "base.html" %}
{% block content %}
<div class="card">
  <h3 style="margin:0;">{{ "Edit post" if editing else "New post" }}</h3>
  {% if error %}<p class="text-danger" style="margin-top:8px;">{{ error }}</p>{% endif %}
  <form method="post" style="margin-top:12px;">
    <input type="hidden" name="csrf" value="{{ csrf_token() }}">
    <label>Title</label>
    <input type="text" name="title" required value="{{ form.title }}">
    <label>Body (Markdown)</label>
    <textarea name="body" rows="10" required placeholder="# Title&#10;&#10;- bullet&#10;1. ordered&#10;[link](https://example.com)&#10;&#10;```python&#10;print('hello')&#10;```">{{ form.body }}</textarea>
    <label style="display:flex; align-items:center; gap:6px; margin-top:10px;">
      <input type="checkbox" name="is_published" value="1" {% if form.is_published %}checked{% endif %}> Published
    </label>
    <div class="sp"></div>
    <button class="btn btn-primary" type="submit">{{ "Save changes" if editing else "Create post" }}</button>
    <a class="btn" href="{{ url_for('blog_list') }}" style="margin-left:8px;">Cancel</a>
  </form>
</div>
{% endblock %}
