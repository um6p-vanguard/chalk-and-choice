{% extends "base.html" %}
{% block content %}
<div class="card">
  <div class="row" style="justify-content:space-between; align-items:center;">
    <div>
      <h3 style="margin:0;">New project</h3>
      <p class="muted" style="margin-top:4px;">Define a project that groups one or more tasks. After saving, add tasks from the project page.</p>
    </div>
    <a class="btn" href="{{ url_for('projects_list') }}">Back</a>
  </div>
  {% if error %}<p class="text-danger" style="margin-top:10px;">{{ error }}</p>{% endif %}
  <form method="post">
    <input type="hidden" name="csrf" value="{{ csrf_token() }}">
    <label>Title</label>
    <input type="text" name="title" required value="{{ form_data.title }}" placeholder="e.g., Python Basics Project">

    <label>Description</label>
    <textarea name="description" rows="3" placeholder="Short overview for mentors.">{{ form_data.description }}</textarea>

    <label>Instructions</label>
    <textarea name="instructions" rows="4" placeholder="Shown to students before the tasks.">{{ form_data.instructions }}</textarea>

    <label>Required tasks to complete</label>
    <input type="number" min="0" name="required_task_count" placeholder="Leave blank to require all tasks" value="{{ form_data.required_task_count }}">

    <label>Project points (awarded on completion)</label>
    <input type="number" min="0" name="points" placeholder="e.g., 100" value="{{ form_data.points }}">

    <label>Retry cooldown (hours) after rejection</label>
    <input type="number" min="0" name="retry_cooldown_hours" placeholder="0 = no cooldown" value="{{ form_data.retry_cooldown_hours }}">

    <button class="btn btn-primary" type="submit" style="margin-top:12px;">Create project</button>
    <a class="btn" href="{{ url_for('projects_list') }}" style="margin-left:8px;">Cancel</a>
  </form>
</div>
{% endblock %}
